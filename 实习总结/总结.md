### 工具链

* git+gitlab的使用
* jira和wiki项目管理工具的使用
* 蓝湖、figma的使用

### 项目

* 官网前台（大会页面）
* 运营后台
* vscode插件
<<<<<<< HEAD
* 供应商
* 其它
=======
* 供应商管理
>>>>>>> b97aa0fff3aca8c695d9e7c8368306634f1861c1

### 业务及难点

官网前台

* 需要做整屏滚动效果；难住了这个真的

  鼠标滚到屏幕中间，触发整屏滚动；

  监听鼠标滚轮事件，动态的计算页面距离文档顶部的距离，达到阙值时，使用api滚动到下一屏；

* 滚动到页面某个位置需要做卡片滑动，而且需要缩放效果；难住了

  整屏滚动和卡片滚动冲突，加了一个区间锁；

  还是动态计算鼠标滚轮的位置，当滚动到需要滚动卡片的一屏时，不让整屏滚动的事件执行；

  区间之内，使用同样的方法滚动卡片（卡片其实是一个长列表，让他有滚动的效果）；

  在卡片滚动的同时，根据卡片距离页面中心的距离动态的设置缩放；

运营后台

* 内容管理、文章标签管理、友情链接管理、客户来源收集
* 基本逻辑：新增内容，修改编辑，位置移动，删除内容，内容查询等

vscode插件

* 基本的，就是收集json国际化配置文件和vue组件文件中的key进行对比
* 最主要是vscode扩展api的使用
* 难点1：如何遍历vue组件文件：通过遍历router路由配置文件，根据提前加的meta元信息找到vue组件文件的路径；
* 难点2：如何收集vue组件文件中的key>正则匹配
* 难点3：对vue组件文件中又引入的其它组件呢？递归遍历

vscode扩展API提供的能力

* 更改vscode的主题
* 添加自定义组件视图-扩展工作台
* 创建webView，显示构建的自定义网页
* 编程语言扩展
* 调试器扩展

环境准备

* 官方提供了一个`yeoman`脚手架，用`yeoman`可以创建一个模板插件项目
* 主要函数：收集组件文件路径函数&收集key值的函数

难点

* 标签管理：

  由于不同的标签页下设有分页器，数据是按页请求的，所以不同的tab间可能会相互影响；

  方式一：在一个组件内管理不同的table data，防止不同的数据间相互干扰；

  方式二：多个子tab由于在逻辑上是一样的，可以封装作为一个组件；在父组件中引入；子组件只负责数据的展示，触发的事件通过$emit()吐出来，在父组件中做数据请求，返回的数据通过prop传递给子组件进行展示；

* 内容管理：

  select下拉框的label值展示，需要显示为是否，但展示0或1；

  对应频道下关联标签的展示；数据是通过频道id获取的，所以从首页到编辑页的时候，通过路由传参把频道id带过去；

* 客户来源收集，客户点击页面上不同的位置，通过函数传参记录这个位置，发给后端

### 其它

* 运营后台的操作需要反应到官网前台，官网前台在联调过程中出现了跨域；

  解决：http-proxy插件代理请求

* 代理后post请求还是403报错

  原因：前台项目使用egg.js搭建的；框架自身有csrf的安全防御措施导致post请求报403

  解决：联调时将csrf拦截器关闭

* element-ui的button按钮点击之后置灰，即不自动失焦；

  button内部包了一层span标签，触发事件时通过target选中的不是button，而时span

  解决：通过target.parentNode选中button，加一个blur()事件

  ``` 
   let target = event.target
    if (target.nodeName === 'SPAN') {
      target = event.target.parentNode
    }
    target.blur()
  ```

* 上线小bug：规定30min内同一个手机号获取验证码不能超过十次

  验证码只能收到6次就提示获取频繁，排查时验证码平台做了限流

<<<<<<< HEAD
### 供应商

=======
### 供应商管理

在线评分页面

* 评分页有多个问题维度，每个维度下有多个问题，每个问题下有多个供应商；最大的情况：50个问题*200个供应商；
* 业务需要记录每个供应商的状态，但因为有多个供应商的情况，分页器的pageSize = 10；
* 若后端分页，则无法记录每个供应商的状态，所以由后端返回全量数据，前端做分页；提交时统一做校验；
* 优化的点：后端返回数据对象保存id和name；前端手动转换为hashMap，请求时只传id
>>>>>>> b97aa0fff3aca8c695d9e7c8368306634f1861c1
