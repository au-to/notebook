## cookie

- cookie是存储在客户端浏览器中一段不超过4kb的字符串
- 它由一个名称，一个值，和其他几个用于控制coolie有效期，安全性，使用范围的可选属性组成
- 不同域名下的cookie各自独立，每当客户端发起请求时，会自动把当前域名下所有未过期cookie发送给服务器

#### cookie的几大特性

* 自动发送
* 域名独立
* 过期时限
* 4KB限制
* cookie不具有安全性

在一些需要登录才能访问的web页面上，如果不能保持前一次登录的状态，那么意味着每次跳转到新的页面都需要重新登录，或者在每次网络请求中都要携带登录信息，这样的用户体验是极不佳的。而且如果让服务器统一管理每个客户端的状态，会极大的消耗服务器资源。

当然，http作为一种无状态协议，也有它的优点，由于不必保存状态，可以减少服务器的cpu及内存资源消耗。如何在保留无状态协议特征的同时解决这些矛盾呢？cookie正是这样一种技术：在请求和响应报文中写入cookie来控制客户端状态。

在客户端浏览器首次向服务器发送请求的时候，服务器会在返回的响应报文中添加一个set-cookie的首部字段，以告诉客户端浏览器保存cookie，这个cookie中保存了由服务器产生的用来唯一标识客户端浏览器的（key=value）形式的字段信息。在下一次客户端再次向服务器发起请求时，就会在请求报文中添加cookie，服务器在接收到cookie以后，会去检查是哪一个客户端发送来的请求，最后得到之前的状态。