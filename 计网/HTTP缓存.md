HTTP缓存的分类

1. 根据是否需要向服务器重新发起请求分为：
   * 强缓存：强缓存一旦生效，不需要再和服务器发生交互
   * 协商缓存：协商缓存不管是否生效，都需要和服务器发生交互
2. 根据是否可以被单个或多个用户使用分为：
   * 私有缓存
   * 共享缓存

强缓存

* 强缓存在缓存数据未失效的情况下（即Cache-Control的max-age或者Expires的缓存时间没有过期），就会直接使用浏览器的缓存数据，而不会向服务器发起请求
* 强缓存生效时，http状态码为200，这种情况下页面加载的速度是最快的，性能也是最好的
* 但在这期间，如果服务器的资源发生了修改，客户端浏览器是察觉不到的
* 与强缓存相关的header头属性有：pragma/cache-control/expires；Pragma的优先级比Cache-Control高

协商缓存

* 当第一次请求时，服务器返回的响应头中没有cache-control和expires，或者Cache-Control和Expires过期，再或者它的属性设置为no-cache时(即不走强缓存)，那么浏览器在进行二次请求时就会和服务器进行协商，对比资源是否发生了更新
* 如果服务器资源没有更新，就会返回304状态码，告诉浏览器可以使用缓存的数据，从而减小服务器的数据传输压力
* 如果发生了更新，服务器就会返回200状态码，并把更新后的资源一起返回
* 与协商缓存相关的头属性有：ETag/If-Not-Match 、Last-Modified/If-Modified-Since

私有缓存

* 私有缓存只能用于单独的用户，是浏览器级缓存

共享缓存

* 共享缓存可以被多个用户使用，是代理级缓存