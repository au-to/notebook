**介绍**

- Websocket是h5的一个持久化协议，本质上是一个基于TCP的协议，它和http都是应用层协议
- 它实现了浏览器与服务器的全双工通信，同时也是跨域的一种解决方案
- WebSocket 在建立连接时需要借助 HTTP 协议，连接建立好了之后客户端与服务端的双向通信就与 HTTP 无关了

**流程**

- 为了建立一个 WebSocket 连接，客户端首先要向服务器发起一个HTTP请求
- 这个请求和通常的 HTTP 请求不同，包含了一些附加头信息
- 其中附加头信息"Upgrade: WebSocket"表明这是一个申请协议升级的HTTP请求，服务器端解析这些附加的头信息然后产生应答信息返回给客户端，客户端和服务器端的 WebSocket 连接就建立起来了
- 双方通过这个连接通道自由的传递信息，并且这个连接会持续存在直到客户端或者服务器端的某一方主动的关闭连接