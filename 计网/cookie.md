### cookie是什么

- cookie是存储在客户端浏览器中一段不超过4kb的字符串
- 它由一个名称，一个值，和其他几个用于控制coolie有效期，安全性，使用范围的可选属性组成
- 不同域名下的cookie各自独立，每当客户端发起请求时，会自动把当前域名下所有未过期cookie发送给服务器
- 在请求和响应报文中写入cookie可以控制客户端状态

cookie的几大特性

* 自动发送
* 域名独立
* 过期时限
* 4KB限制
* cookie不具有安全性

在客户端浏览器首次向服务器发送请求的时候，服务器会在返回的响应报文中添加一个set-cookie的首部字段，以告诉客户端浏览器保存cookie，这个cookie中保存了由服务器产生的用来唯一标识客户端浏览器的（key=value）形式的字段信息。在下一次客户端再次向服务器发起请求时，就会在请求报文中添加cookie，服务器在接收到cookie以后，会去检查是哪一个客户端发送来的请求，最后得到之前的状态。

###  cookie 能做什么

* 用户在第一次登录某个网站时，要输入用户名密码，如果觉得很麻烦，下次登录时不想输入了，那么就在第一次登录时将登录信息存放在 cookie 中。下次登录时我们就可以直接获取 cookie 中的用户名和密码来进行登录。
* 类似于购物车性质的功能，第一次用户将某些商品放入购物车了，但是临时有事，将电脑关闭了， 下次再次进入此网站，我们可以通过读取 cookie 中的信息，恢复购物车中的物品。
* 页面之间的传值。在实际开发中，我们往往会通过一个页面跳转到另外一个页面。后端服务器我们可以通过数据库，session 等来传递页面所需要的值。但是在浏览器端，我们可以将数据保存在 cookie 中，然后在新页面去获取 cookie 中的数据。

### 怎么使用cookie

``` 
document.cookie = "name=value;expires=evalue;path=pvalue;domain=dvalue;secure=true";
// name=value 表示要存入的属性和值，必选参数
// expires=evalue 设置有效时间，可选参数，默认为浏览器当前会话有用
// path=pvalue 限制访问 cookie 的目录，默认情况下对于当前网页所在的同一目录下的所有页面有效
// domain=dvalue 用于限制只有设置了的域名才可以访问；如果没有设置，则默认在当前域名访问
secure=true 安全设置，指明必须通过安全传输（https) 才能获得cookie
```

注意

* cookie可能被禁用。当用户非常注重个人隐私保护时，他很可能禁用浏览器的cookie功能
* cookie是与浏览器相关的。这意味着即使访问的是同一个页面，不同浏览器之间所保存的cookie也是不能共享的
* cookie可能被删除。因为每个cookie都是硬盘上的一个文件，因此很有可能被用户删除
* cookie安全性不够高。所有的cookie都是以纯文本的形式记录于文件中，因此如果要保存用户密码等信息时，最好事先经过加密处理
* cookie 在保存时，只要后面保存的 name 相同，那么就会覆盖前面的 cookie，注意是完全覆盖，包括失效时间